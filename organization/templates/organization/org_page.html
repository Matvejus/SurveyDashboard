{% extends 'organization/base.html' %}
{% load bootstrap5 %}
{%load static%}
{% block page_title %}<title>Wheel dash</title>{% endblock page_title %}

{%block css_files%}
{% comment %} <link rel="stylesheet" href="{% static 'organization/keen-dashboards.css' %}" type="text/css" media="screen"> {% endcomment %}
<link rel="stylesheet" href="{% static 'organization/landing.css' %}" type="text/css" media="screen">
<link rel="stylesheet" href="{% static 'djf_surveys/te-starter/css/tw-elements.min.css' %}">
{% endblock %}


<style type = "text/css">
  .chart-wrapper {
    background: #fff;
    border: 1px solid #e2e2e2;
    border-radius: 13px;
    margin-bottom: 10px;
    width: 100%;
    height: 100%;
  }
  .my-container {
    border-radius: 25px;
    width: 100%;
    margin: 40px;
    background-color: #fafafa;
    padding: 40px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    position: relative;
    align-items: center;
  }
</style>



{% block content %}

<body>  
  <div class = 'page-grid'>
    <div>{% comment %} empty div for sidebar {% endcomment %}</div>
  
          <div class="grid grid-rows-2 grid-cols-6 gap-4">
            <div class='container row-span-3 col-span-3'>
              <div class=""><canvas class id="polar"/></div>
            </div>
      
            <!--Entire Block for Collaboration Network-->
            <div class="row-span-2 col-span-3">
              <div class="container mx-auto py-6 px-4">
                <h1 class="text-2xl font-semibold text-gray-900">Collaboration Network: {{network.title}}</h1>
                <div class="flex flex-col mt-6 scrollable-box">
                  <div class="align-middle min-w-full overflow-x-auto shadow rounded-none">
                    <table class="min-w-full divide-y divide-gray-200">
                      <thead>
                        <tr>
                          <th scope="col" class="px-6 py-4 font-medium text-gray-900">Name</th>
                          <th scope="col" class="px-6 py-4 font-medium text-gray-900">Response</th>
                          <th scope="col" class="px-6 py-4 font-medium text-gray-900">Role</th>
                          <th scope="col" class="px-6 py-4 font-medium text-gray-900">Organization</th>
                          <th scope="col" class="px-6 py-4 font-medium text-gray-900">Stage</th>
                          <th scope="col" class="px-6 py-4 font-medium text-gray-900"></th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for collaborator in collaborators %}
                        <tr class="hover:bg-gray-50">
                          <th class="flex gap-3 px-6 py-4 font-normal text-gray-900">
                            <div class="relative h-10 w-10">
                              <a href="{{ collaborator.profile_url }}">
                                <img class="h-full w-full rounded-full object-cover object-center" src="{{ collaborator.avatar.url }}" alt="{{ collaborator.first_name }} {{ collaborator.last_name }}" />
                              </a>
                              <span class="absolute right-0 bottom-0 h-2 w-2 rounded-full bg-green-400 ring ring-white"></span>
                            </div>
                            <div class="text-sm">
                              <div class="font-medium text-gray-700">{{ collaborator.first_name }} {{ collaborator.last_name }}
                                {% for group in collaborator.groups.all %}
                                - {{ group.name }}
                                {% endfor %}
                              </div>
                              <div class="text-gray-400">{{ collaborator.email }}</div>
                            </div>
                          </th>
                          <td class="px-6 py-4">
                            {% if collaborator.has_answer %}
                            <span class="inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-1 text-xs font-semibold text-green-600">
                              <span class="h-1.5 w-1.5 rounded-full bg-green-600"></span>
                              Answered
                            </span>
                            {% else %}
                            <span class="inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-1 text-xs font-semibold text-red-600">
                              <span class="h-1.5 w-1.5 rounded-full bg-red-600"></span>
                              Not Answered
                            </span>
                            {% endif %}
                          </td>
                          <td class="px-6 py-4">{{ collaborator.position }}</td>
                          <td class="px-6 py-4">{{ collaborator.organization }}</td>
                          <td class="px-6 py-4">{{ network.stage }}</td>
                          <td class="px-6 py-4">
                            <div class="flex justify-end gap-4">
                              <a x-data="{ tooltip: 'Delete' }" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6" x-tooltip="tooltip">
                                  <!-- SVG Content -->
                                </svg>
                              </a>
                              <a x-data="{ tooltip: 'Edit' }" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6" x-tooltip="tooltip">
                                  <!-- SVG Content -->
                                </svg>
                              </a>
                            </div>
                          </td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!-- End Block Collaboration Network-->
            <div class='col-span-3'>
              <div class="grid grid-cols-3 gap-4 grid-flow-col auto-cols-max">
                <div class='chart-wrapper container'>
                  <div><canvas class="Responses" id="donutChart"/></div>  
                </div>
                <div class='chart-wrapper container'>
                  <div class=""><canvas class="" id="donut"/></div>
                </div>
                <div class='container justify-center items-center flex flex-col'>
                  <h1 class="font-semibold text-3xl">0:04:32</h1>
                  Av. time min.
                </div>
              </div>
            </div>
         </div>
      </div>
    </div>
  </div>

      
  {% block scripts %}
  <script src="{% static 'djf_surveys/css/tailwindcss-3.3.1.js' %}"></script>
  <script src="{% static 'djf_surveys/css/tailwindcss-plugin-3.3.1.js' %}"></script>
  <script src="{% static 'djf_surveys/te-starter/js/tw-elements.umd.min.js' %}"></script>
  

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    
  var ctx = document.getElementById('polar');
    var myChart = new Chart(ctx, {
    type: 'polarArea',
      data: {
      labels: ['Co-creating solutions', 'Establishing legitimacy', 'Brokering relations', 'Facilitating activities'],
      datasets: [
      {
        label: 'Network',
        data: [
          { id: 'COLL-OUTPUT', value: { number: 40, link: 'localhost:8000/surveys/dashboard/summary/survey/main/COLL-OUTPUT' } },
          { id: 'RES-MOBIL', value: { number: 40, link: 'localhost:8000/surveys/dashboard/summary/survey/main/RES-MOBIL' } },
          { id: 'NET-ACC', value: { number: 40, link: 'localhost:8000/surveys/dashboard/summary/survey/main/NET-ACC' } },
          { id: 'POS-REP', value: { number: 40, link: 'localhost:8000/surveys/dashboard/summary/survey/main/' } },
        ],
        
        parsing: {
          key: 'value.number'
        },

        backgroundColor: [
        "#FFD041",
    
        ],
        borderWidth: 0,
      },
      {
        label: 'Network Text',
        data: [
          { id: 'COLL-OUTPUT', value: { number: 60, link: 'localhost:8000/surveys/dashboard/summary/survey/main/COLL-OUTPUT' } },
          { id: 'RES-MOBIL', value: { number: 60, link: 'localhost:8000/surveys/dashboard/summary/survey/main/RES-MOBIL' } },
          { id: 'NET-ACC', value: { number: 60, link: 'localhost:8000/surveys/dashboard/summary/survey/main/NET-ACC' } },
          { id: 'POS-REP', value: { number: 60, link: 'localhost:8000/surveys/dashboard/summary/survey/main/' } },
        ],
        
        parsing: {
          key: 'value.number'
        },

        backgroundColor: [
        "#F4D8A5",
    
        ],
        borderWidth: 0,
      },
      {
        label: 'Organizational',
        data: [
          { id: 'ACS', value: { number: 80, link: 'localhost:8000/surveys/dashboard/summary/survey/main/ACS' } },
          { id: 'ORG-LEARN', value: { number: 80, link: 'localhost:8000/surveys/dashboard/summary/survey/main/ORG-LEARN' } },
          { id: 'BUILD-PART', value: { number: 80, link: 'localhost:8000/surveys/dashboard/summary/survey/main/BUILD-PART' } },
          { id: 'ACS', value: { number: 80, link: 'localhost:8000/surveys/dashboard/summary/survey/main/ACS' } },
        ],
        
        parsing: {
          key: 'value.number'
        },

        backgroundColor: [
        "#FFFFFF",
        ],
        borderWidth: 5,
        borderColor: 'rgba(255, 99, 132, 0.9)', // Red,
      },
      {
        label: 'Individual',
        data: [
          { id: 'COLL-OP', value: { number: 120, link: 'localhost:8000/surveys/dashboard/summary/survey/main/COLL-OP' } },
          { id: 'SHARE-LEARN', value: { number: 120, link: 'localhost:8000/surveys/dashboard/summary/survey/main/SHARE-LEARN' } },
          { id: 'FEI', value: { number: 120, link: 'localhost:8000/surveys/dashboard/summary/survey/main/FEI'} },
          { id: 'VISIB', value: { number: 120, link: 'localhost:8000/surveys/dashboard/summary/survey/main/VISIB'} },
          ],

          parsing: {
            key: 'value.number'
          },

          backgroundColor: [
          "#FFFFFF",
            
          ],
          borderWidth: 5,
          borderColor: 'rgba(255, 99, 132, 0.9)', // Red,
        },
        {
          label: 'Levels',
          data: [
            { id: 'COLL-OUTPUT', value: { number: 140, link: 'localhost:8000/surveys/dashboard/summary/survey/main/COLL-OUTPUT' } },
            { id: 'RES-MOBIL', value: { number: 140, link: 'localhost:8000/surveys/dashboard/summary/survey/main/RES-MOBIL' } },
            { id: 'NET-ACC', value: { number: 140, link: 'localhost:8000/surveys/dashboard/summary/survey/main/NET-ACC' } },
            { id: 'POS-REP', value: { number: 140, link: 'localhost:8000/surveys/dashboard/summary/survey/main/' } },
          ],
          
          parsing: {
            key: 'value.number'
          },
  
          backgroundColor: [
          "#F4D8A5",
      
          ],
          borderWidth: 0,
        },]},
        options: {
          scale: {
            display: false
        },
          responsive: true,
          scales: {
            r: {
              pointLabels: {
                display: false,
                centerPointLabels: true,
                arc: true,
                font: {
                  size: 24
                }
              }
            },
          },
           onClick: function(e, clickData) {
            window.open("http://localhost:8000/surveys/dashboard/summary/survey/conesu/")
          },
        plugins: {
          legend: {
            display: false,
          },
          labels: {
            render: 'label',
            arc: true,
            fontColor: '#000',
            position: 'inside',
          },
        }
      },
    });
         
    </script>

    <script>
 
      var ctx = document.getElementById('donut');
      var myChart = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: ['Time', 'Statisfaction', 'Projects', 'Surveys', 'Responses', 'Collaborators'],
          datasets: [{
            label: 'Blue',
            data: [11, 8.0, 17, 10, 23, 15],
            fill: true,
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgba(54, 162, 235, 0.2)',
            pointBackgroundColor: 'rgb(255, 99, 132)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgb(255, 99, 132)'
          },{
            label: 'Red',
            data: [15, 6.0, 11, 8, 17, 10],
            fill: true,
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: 'rgb(255, 99, 132)',
            pointBackgroundColor: 'rgb(255, 99, 132)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgb(255, 99, 132)'
          }]
        },
        options: {
          scales: {
            yAxes: [{
              ticks: {
                beginAtZero: true
              }
            }]
          },
          plugins: {
            legend: {
              display: false,
            },
          }
        },
      });
      
  </script>

  <script>

      var ctx = document.getElementById('donutChart').getContext('2d');
      var myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Collaborators', 'Orchestrator', 'Supervisor', 'Advisor'],
          datasets: [{
            data: [10, 20, 15, 5], // Dummy dataset values
            backgroundColor: [
              'rgb(255, 99, 132, 0.2)',
              'rgb(54, 162, 235, 0.2)',
              'rgb(255, 206, 86, 0.2)',
              'rgb(75, 192, 192, 0.2)'
            ],
            borderColor: [
              'rgb(255, 99, 132, 1)',
              'rgb(54, 162, 235, 1)',
              'rgb(255, 206, 86, 1)',
              'rgb(75, 192, 192, 1)',
            ],
            borderWidth: 1,
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: false,
            },
            title: {
              display: true,
              text: 'Responses'
            }
          },
        }
      });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>


  {% endblock scripts %}

</body>

{% endblock content %}

